pattern Linux {
 marktype = none
 color = 0 0 0
}

pattern Drivers {
 color = 1 0 0
}

pattern Staging {
 color = 0 0 0
 vmin = "linux-2.6.27"
 prune = true
}

pattern Sound   {
 color = 0 0 1
}

pattern Arch    {
 color = 0 1 1
}

pattern FS      {
 color = 0 1 0
}

pattern Net     {
 color = 1 1 0
}

pattern	Other   {
 color = 1 0 1
}

graph gr/density.jgr {
 xaxis = date
 yaxis = user
 project = Linux
 size = 3 0.7
 legend = "defaults x 250 y 0.1"
 ylegend = "Faults\nper 1k LOC"

 curve pattern Linux {
   sql = SELECT r.version_name, r.release_date,
       1000*count(report_id)::float/locc::float as fault_density
FROM "Reports info" r, versions
WHERE versions.version_name = r.version_name
AND versions.main = 2
AND versions.major = 6
AND r.standardized_name != 'Null'
GROUP BY r.version_name , r.release_date , versions.locc
ORDER BY r.release_date;
 }

 curve pattern Staging {
   color = 1 0 0
   marktype = none
   legend = "Without staging"
   sql = SELECT r.version_name, r.release_date,
       1000*count(report_id)::float/locc::float as fault_density
FROM "Reports info" r, versions
WHERE versions.version_name = r.version_name
AND versions.main = 2
AND versions.major = 6
AND r.standardized_name != 'Null'
AND r.osdi_dirname != 'staging'
GROUP BY r.version_name , r.release_date , versions.locc
ORDER BY r.release_date;
 }

}